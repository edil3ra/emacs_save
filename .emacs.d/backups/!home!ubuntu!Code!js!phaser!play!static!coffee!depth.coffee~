game = new Phaser.Game 800, 600, Phaser.AUTO, 'game'

class MainState extends Phaser.State
  constructor: () ->
    super()
      @map = null
      @tileset = null
      @layer = null

      @sprite = null
      @group = null
      @oldY = 0
      @cursors = null
      @locs = []

    
  preload: ->
    @game.load.baseURL = 'static/assets/'
    @game.load.image('phaser', 'sprites/phaser-dude.png');
    @game.load.tilemap('desert', 'tilemaps/maps/depthsort.json', null, Phaser.Tilemap.TILED_JSON);
    @game.load.image('ground_1x1', 'tilemaps/tiles/ground_1x1.png');
    @game.load.spritesheet('trees', 'tilemaps/tiles/walls_1x2.png', 32, 64);


  create: ->
    @map = game.add.tilemap 'desert'
    @map.addTilesetImage 'ground_1x1'
    @layer = map.createLayer 'Tile Layer 1'
    
    @group = @game.add.group()

    for i in _.range(200)
      
    

  update: (dt) ->





    
game.state.add('main', new MainState())
game.state.start()
